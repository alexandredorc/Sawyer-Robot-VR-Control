<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sawyer VR controller: Control a Cobot using a virtual reality controller.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Sawyer VR controller
   </div>
   <div id="projectbrief">Control the Sawyer robotic arm with a Razer Hydra VR controller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Control a Cobot using a virtual reality controller.</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md5"></a> The aim of this project is to connect a VR system to a robot that enables users to control the robot arm by moving their own arms and grip items using a gripper end effector. The end goal is to be able to perform a variety of tasks using the VR controller and different end effector.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Setup ROS environment</h1>
<p>First to make this project work you need to setup the ROS Melodic environment on a Ubuntu 18.04 OS. To create the appropriate environment follow the tutorial on the official ROS <a href="http://wiki.ros.org/melodic/Installation/Ubuntu">website</a></p>
<h1><a class="anchor" id="autotoc_md7"></a>
Installing dependecies for the Sawyer robot</h1>
<p>This project will use a Sawyer Robot of Rethink Robotics. We need to connect the Sawyer Robot by following the tutorial on the Rethink Robotics <a href="https://www.rethinkrobotics.com/">website</a> create the <code>catkin_ws</code> folder and the require dependencies indiquated in the website.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Connection bewteen master computer and robots</h1>
<p>To establish a connection between the robot and the master you need a router and connect your device with a static IP address. To setup your ROS environment with the robot you need to:</p>
<ul>
<li>add to the <code>~/.bashrc</code> file the following line <blockquote class="doxtable">
<p>&zwj;export ROS_MASTER_URI=<a href="http://Your_Master_IP:11311">http://Your_Master_IP:11311</a> </p>
</blockquote>
<blockquote class="doxtable">
<p>&zwj;export ROS_IP=Sawyer_IP </p>
</blockquote>
</li>
<li>change the <code>intera.sh</code> file accordingly to the tutorial</li>
</ul>
<p>Check the SDK version on the Sawyer robot and your master computer. We advise to update to the version 5.3.0 or up both of them to be sure not to have version collision.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Initialize the robot</h1>
<p>to initialize the Sawyer robot functions execute the following commands. </p><div class="fragment"><div class="line">cd ~/catkin_ws</div>
<div class="line">./intera.sh</div>
<div class="line">rosrun intera_interface enable_robot.py -e</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md10"></a>
Other Dependencies</h1>
<p>To be able to run this project you will need to install the Driver to make the razer hydra work.</p>
<div class="fragment"><div class="line">cd ~/catkin_ws/src</div>
<div class="line">git clone https://github.com/ros-drivers/razer_hydra</div>
<div class="line">sudo cp razer_hydra/config/99-hydra-indigo.rules /etc/udev/rules.d/</div>
</div><!-- fragment --><p> then reboot your Ubuntu to make reload the udev rules</p>
<p>you can then test if the package work properly by doing the following commands.</p>
<div class="fragment"><div class="line">cd ~/catkin_ws</div>
<div class="line">catkin_make</div>
<div class="line">source devel/setup.bash</div>
<div class="line">roslaunch razer_hydra hydra_rviz.launch</div>
</div><!-- fragment --><p> If the controller are connected, it will open the RViz software with the tf representation of the controller position from the base. Make sure the ROS Master work properly or this will not work.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Run the VR command</h1>
<p>To control the robot with the controllers you need to run in one terminal the following command</p>
<div class="fragment"><div class="line">roslaunch sawyer_VR_controller main.launch</div>
</div><!-- fragment --><p> this should run three different process </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
